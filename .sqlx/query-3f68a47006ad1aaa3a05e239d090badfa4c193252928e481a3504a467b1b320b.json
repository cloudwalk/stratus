{
  "db_name": "PostgreSQL",
  "query": "\n            WITH latest_block_numbers AS (\n                SELECT address, MAX(block_number) as block_number\n                FROM historical_nonces\n                GROUP BY address\n            ),\n            latest_nonces AS (\n                SELECT accounts.address, historical_nonces.nonce\n                FROM accounts\n                JOIN latest_block_numbers\n                ON latest_block_numbers.address = accounts.address\n                LEFT JOIN historical_nonces on accounts.address = historical_nonces.address\n                    AND latest_block_numbers.block_number = historical_nonces.block_number\n            )\n            UPDATE accounts\n            SET latest_nonce = latest_nonces.nonce\n            FROM latest_nonces\n            WHERE latest_nonces.address = accounts.address\n                AND latest_nonces.nonce IS DISTINCT FROM accounts.latest_nonce",
  "describe": {
    "columns": [],
    "parameters": {
      "Left": []
    },
    "nullable": []
  },
  "hash": "3f68a47006ad1aaa3a05e239d090badfa4c193252928e481a3504a467b1b320b"
}
